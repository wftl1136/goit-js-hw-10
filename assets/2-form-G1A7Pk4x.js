const l=document.querySelector(".feedback-form"),d=l.elements.email,c=l.elements.message,u="feedback-form-state",r=400,f=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,o=document.getElementById("email-error"),m=document.querySelector(".chek"),h=document.getElementById("countNumber"),n=document.querySelector(".message-counter"),L=/[^a-zA-Z0-9._@-]/;let t={email:"",message:""};const p=JSON.parse(localStorage.getItem(u))||{};t={email:p.email||"",message:p.message||""};d.value=t.email;c.value=t.message;d.value&&x(d);c.value&&g(c);l.addEventListener("input",v);function v(e){x(d),g(c),t[e.target.name]=e.target.value.trim(),console.log("üöÄ ~ saveToLocalStr ~ formData:",t),localStorage.setItem(u,JSON.stringify(t))}l.addEventListener("submit",e=>{if(e.preventDefault(),!t.email||!t.message)return alert("Fill please all fields");console.log("formData:",t),localStorage.removeItem(u),t.email="",t.message="",l.reset(),g(c),h.textContent=`0/${r}`,n.classList.add("hidden"),m.classList.add("hidden")});function x(e){let s=e.value;if(e.addEventListener("beforeinput",a=>{const i=a.data;L.test(i)&&a.preventDefault()}),L.test(s)){m.classList.add("hidden"),o.classList.add("error-message"),o.textContent="‚ùó –ë—É–¥—å –ª–∞—Å–∫–∞ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∫–∏—Ä–∏–ª–∏—Ü—é —á–∏ —Ç–∞–±—É–ª—è—Ü—ñ—é –ø—Ä–∏ –≤–≤–æ–¥—ñ!";return}if(!s){e.classList.remove("error"),o.classList.remove("error-message"),o.textContent="";return}f.test(s)?(e.classList.remove("error"),o.classList.remove("error-message"),o.textContent="",m.classList.remove("hidden")):(console.log("üöÄ ~ validateEmail ~ !regex.test(email):",!f.test(s)),m.classList.add("hidden"),e.classList.add("error"),o.classList.add("error-message"),o.textContent="‚ùó –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∏–π –∞–±–æ –Ω–µ–ø–æ–≤–Ω–∏–π email! –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ—Å—Ç—å –≤–≤–æ–¥—É!")}function g(e){const a=e.value.length;h.textContent=`${a}/${r}`;const i=r-a;a>r*.9?(n.classList.remove("hidden"),a>=r?(n.innerHTML=`‚ùó –í–∏ –¥–æ—Å—è–≥–ª–∏ –ª—ñ–º—ñ—Ç—É –≤ ${r} —Å–∏–º–≤–æ–ª—ñ–≤. –Ø–∫—â–æ –º–∞—î—Ç–µ –¥–æ–¥–∞—Ç–∫–æ–≤—ñ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó, –Ω–∞–¥—ñ—à–ª—ñ—Ç—å —ó—Ö –Ω–∞  
   <a href="mailto:info@goit.ua">info@goit.ua</a>.`,n.style.bottom="0"):(n.textContent=`‚ö† –£ –í–∞—Å –∑–∞–ª–∏—à–∏–ª–æ—Å—è –¥–æ—Å—Ç—É–ø–Ω–∏—Ö ${i} —Å–∏–º–≤–æ–ª—ñ–≤`,n.style.bottom="16px")):n.classList.add("hidden")}l.addEventListener("keydown",D);function D(e){console.log("üöÄ ~ stopInputMsg ~ event.target.tagName:",e.target.tagName),e.target.tagName.toLowerCase()==="textarea"&&e.target.value.length>=r&&e.key!=="Delete"&&e.code!=="Backspace"&&e.code!=="ArrowRight"&&e.code!=="ArrowLeft"&&e.code!=="ArrowUp"&&e.code!=="ArrowDown"&&e.preventDefault()}c.addEventListener("paste",y);function y(e){e.preventDefault();const s=e.target.value,a=r-s.length,b=e.clipboardData.getData("text").substring(0,a);e.target.value=s+b,g(e.target),v(e)}
//# sourceMappingURL=2-form-G1A7Pk4x.js.map
